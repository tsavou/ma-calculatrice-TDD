var d=Object.defineProperty;var h=(o,e,r)=>e in o?d(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var l=(o,e,r)=>h(o,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();class p{constructor(){l(this,"history",[])}add(e,r){const n=e+r;return this.history.push({operation:`${e} + ${r}`,result:n}),n}subtract(e,r){const n=e-r;return this.history.push({operation:`${e} - ${r}`,result:n}),n}multiply(e,r){const n=e*r;return this.history.push({operation:`${e} x ${r}`,result:n}),n}getHistory(){return this.history}clearHistory(){this.history=[]}}document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("display"),e=document.querySelectorAll(".btn"),r=new p;e.forEach(n=>{n.addEventListener("click",()=>{const t=n.getAttribute("data-value");if(t==="C")o.value="";else if(t==="clear-history")r.clearHistory(),a(r);else if(t==="=")try{const s=o.value;o.value=f(s,r),a(r)}catch(s){o.value=s.message}else{let s=o.value+t;const i=(s.match(/-?\d+(\.\d+)?/g)||[]).length,c=(s.match(new RegExp("(?<!^)[+x/](?!-)","g"))||[]).length;i<=2&&c<=1&&(o.value=s)}})})});function f(o,e){o.includes("--")&&(o=o.replace("--","+"));const r=/^(-?\d+(\.\d+)?)\s*([+-x/])\s*(-?\d+(\.\d+)?)$/,n=o.match(r);if(!n)throw new Error("Invalid expression");const[,t,,s,i]=n,c=parseFloat(t),u=parseFloat(i);switch(s){case"+":return e.add(c,u);case"-":return e.subtract(c,u);case"x":return e.multiply(c,u);case"/":if(u===0)throw new Error("Division by zero");return e.multiply(c,1/u);default:throw new Error("Unsupported operator")}}function a(o){const e=document.getElementById("history"),r=o.getHistory();e.innerHTML="",r.forEach(n=>{const t=document.createElement("div");t.textContent=`${n.operation} = ${n.result}`,e.appendChild(t)})}
